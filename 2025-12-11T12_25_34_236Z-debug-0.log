0 verbose cli /usr/bin/node /usr/bin/npm
1 info using npm@11.6.4
2 info using node@v25.2.1
3 silly config load:file:/usr/lib/node_modules/npm/npmrc
4 silly config load:file:/home/toast/.npmrc
5 silly config load:file:/etc/npmrc
6 verbose title npm install @anthropic-ai/claude-code
7 verbose argv "install" "--global" "@anthropic-ai/claude-code" "--loglevel" "verbose"
8 verbose logfile logs-max:10 dir:/home/toast/.npm/_logs/2025-12-11T12_25_34_236Z-
9 verbose logfile /home/toast/.npm/_logs/2025-12-11T12_25_34_236Z-debug-0.log
10 silly packumentCache heap:4496293888 maxSize:1124073472 maxEntrySize:562036736
11 silly logfile start cleaning logs, removing 1 files
12 silly logfile done cleaning log files
13 silly idealTree buildDeps
14 silly fetch manifest @anthropic-ai/claude-code@*
15 silly packumentCache full:https://registry.npmmirror.com/@anthropic-ai%2fclaude-code cache-miss
16 http fetch GET 200 https://registry.npmmirror.com/@anthropic-ai%2fclaude-code 981ms (cache miss)
17 silly packumentCache full:https://registry.npmmirror.com/@anthropic-ai%2fclaude-code set size:101882 disposed:false
18 silly placeDep ROOT @anthropic-ai/claude-code@2.0.65 OK for:  want: *
19 silly fetch manifest @img/sharp-darwin-arm64@^0.33.5
20 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-darwin-arm64 cache-miss
21 silly fetch manifest @img/sharp-darwin-x64@^0.33.5
22 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-darwin-x64 cache-miss
23 silly fetch manifest @img/sharp-linux-arm@^0.33.5
24 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-linux-arm cache-miss
25 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-darwin-arm64 179ms (cache miss)
26 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-darwin-arm64 set size:13260 disposed:false
27 silly fetch manifest @img/sharp-linux-arm64@^0.33.5
28 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-linux-arm64 cache-miss
29 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-linux-arm64 123ms (cache miss)
30 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-linux-arm64 set size:13594 disposed:false
31 silly fetch manifest @img/sharp-linux-x64@^0.33.5
32 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-linux-x64 cache-miss
33 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-linux-x64 71ms (cache miss)
34 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-linux-x64 set size:13669 disposed:false
35 silly fetch manifest @img/sharp-linuxmusl-arm64@^0.33.5
36 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-linuxmusl-arm64 cache-miss
37 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-darwin-x64 399ms (cache miss)
38 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-darwin-x64 set size:13516 disposed:false
39 silly fetch manifest @img/sharp-linuxmusl-x64@^0.33.5
40 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-linuxmusl-x64 cache-miss
41 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-linuxmusl-arm64 77ms (cache miss)
42 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-linuxmusl-arm64 set size:13622 disposed:false
43 silly fetch manifest @img/sharp-win32-x64@^0.33.5
44 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-win32-x64 cache-miss
45 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-linuxmusl-x64 144ms (cache miss)
46 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-linuxmusl-x64 set size:13708 disposed:false
47 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-win32-x64 86ms (cache miss)
48 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-win32-x64 set size:14334 disposed:false
49 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-linux-arm 615ms (cache miss)
50 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-linux-arm set size:13584 disposed:false
51 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-darwin-arm64@0.33.5 OK for: @anthropic-ai/claude-code@2.0.65 want: ^0.33.5
52 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-darwin-x64@0.33.5 OK for: @anthropic-ai/claude-code@2.0.65 want: ^0.33.5
53 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-linux-arm@0.33.5 OK for: @anthropic-ai/claude-code@2.0.65 want: ^0.33.5
54 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-linux-arm64@0.33.5 OK for: @anthropic-ai/claude-code@2.0.65 want: ^0.33.5
55 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-linux-x64@0.33.5 OK for: @anthropic-ai/claude-code@2.0.65 want: ^0.33.5
56 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-linuxmusl-arm64@0.33.5 OK for: @anthropic-ai/claude-code@2.0.65 want: ^0.33.5
57 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-linuxmusl-x64@0.33.5 OK for: @anthropic-ai/claude-code@2.0.65 want: ^0.33.5
58 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-win32-x64@0.33.5 OK for: @anthropic-ai/claude-code@2.0.65 want: ^0.33.5
59 silly fetch manifest @img/sharp-libvips-darwin-arm64@1.0.4
60 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-libvips-darwin-arm64 cache-miss
61 silly fetch manifest @img/sharp-libvips-darwin-x64@1.0.4
62 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-libvips-darwin-x64 cache-miss
63 silly fetch manifest @img/sharp-libvips-linux-arm@1.0.5
64 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-libvips-linux-arm cache-miss
65 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-libvips-darwin-arm64 137ms (cache miss)
66 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-libvips-darwin-arm64 set size:11032 disposed:false
67 silly fetch manifest @img/sharp-libvips-linux-arm64@1.0.4
68 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-libvips-linux-arm64 cache-miss
69 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-libvips-darwin-x64 142ms (cache miss)
70 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-libvips-darwin-x64 set size:10967 disposed:false
71 silly fetch manifest @img/sharp-libvips-linux-x64@1.0.4
72 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-libvips-linux-x64 cache-miss
73 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-libvips-linux-arm 230ms (cache miss)
74 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-libvips-linux-arm set size:12249 disposed:false
75 silly fetch manifest @img/sharp-libvips-linuxmusl-arm64@1.0.4
76 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-libvips-linuxmusl-arm64 cache-miss
77 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-libvips-linux-x64 91ms (cache miss)
78 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-libvips-linux-x64 set size:11668 disposed:false
79 silly fetch manifest @img/sharp-libvips-linuxmusl-x64@1.0.4
80 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-libvips-linuxmusl-x64 cache-miss
81 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-libvips-linuxmusl-arm64 80ms (cache miss)
82 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-libvips-linuxmusl-arm64 set size:11107 disposed:false
83 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-libvips-linux-arm64 221ms (cache miss)
84 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-libvips-linux-arm64 set size:11424 disposed:false
85 http fetch GET 200 https://registry.npmmirror.com/@img%2fsharp-libvips-linuxmusl-x64 168ms (cache miss)
86 silly packumentCache full:https://registry.npmmirror.com/@img%2fsharp-libvips-linuxmusl-x64 set size:11129 disposed:false
87 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-libvips-darwin-arm64@1.0.4 OK for: @img/sharp-darwin-arm64@0.33.5 want: 1.0.4
88 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-libvips-darwin-x64@1.0.4 OK for: @img/sharp-darwin-x64@0.33.5 want: 1.0.4
89 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-libvips-linux-arm@1.0.5 OK for: @img/sharp-linux-arm@0.33.5 want: 1.0.5
90 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-libvips-linux-arm64@1.0.4 OK for: @img/sharp-linux-arm64@0.33.5 want: 1.0.4
91 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-libvips-linux-x64@1.0.4 OK for: @img/sharp-linux-x64@0.33.5 want: 1.0.4
92 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-libvips-linuxmusl-arm64@1.0.4 OK for: @img/sharp-linuxmusl-arm64@0.33.5 want: 1.0.4
93 silly placeDep node_modules/@anthropic-ai/claude-code @img/sharp-libvips-linuxmusl-x64@1.0.4 OK for: @img/sharp-linuxmusl-x64@0.33.5 want: 1.0.4
94 silly reify mark retired [
94 silly reify   '/home/toast/.npm-global/lib/node_modules/@anthropic-ai/claude-code',
94 silly reify   '/home/toast/.npm-global/bin/claude'
94 silly reify ]
95 silly reify moves {
95 silly reify   '/home/toast/.npm-global/lib/node_modules/@anthropic-ai/claude-code': '/home/toast/.npm-global/lib/node_modules/@anthropic-ai/.claude-code-MTahQ8Ro',
95 silly reify   '/home/toast/.npm-global/bin/claude': '/home/toast/.npm-global/bin/.claude-wyiiKL2N'
95 silly reify }
96 verbose stack Error: ENOTEMPTY: directory not empty, rename '/home/toast/.npm-global/lib/node_modules/@anthropic-ai/claude-code' -> '/home/toast/.npm-global/lib/node_modules/@anthropic-ai/.claude-code-MTahQ8Ro'
96 verbose stack     at async Object.rename (node:internal/fs/promises:786:10)
96 verbose stack     at async moveFile (/usr/lib/node_modules/npm/node_modules/@npmcli/fs/lib/move-file.js:30:5)
96 verbose stack     at async Promise.allSettled (index 0)
96 verbose stack     at async #reifyPackages (/usr/lib/node_modules/npm/node_modules/@npmcli/arborist/lib/arborist/reify.js:309:11)
96 verbose stack     at async Arborist.reify (/usr/lib/node_modules/npm/node_modules/@npmcli/arborist/lib/arborist/reify.js:121:5)
96 verbose stack     at async Install.exec (/usr/lib/node_modules/npm/lib/commands/install.js:150:5)
96 verbose stack     at async Npm.exec (/usr/lib/node_modules/npm/lib/npm.js:208:9)
96 verbose stack     at async module.exports (/usr/lib/node_modules/npm/lib/cli/entry.js:67:5)
97 error code ENOTEMPTY
98 error syscall rename
99 error path /home/toast/.npm-global/lib/node_modules/@anthropic-ai/claude-code
100 error dest /home/toast/.npm-global/lib/node_modules/@anthropic-ai/.claude-code-MTahQ8Ro
101 error errno -39
102 error ENOTEMPTY: directory not empty, rename '/home/toast/.npm-global/lib/node_modules/@anthropic-ai/claude-code' -> '/home/toast/.npm-global/lib/node_modules/@anthropic-ai/.claude-code-MTahQ8Ro'
103 silly unfinished npm timer reify 1765455934457
104 silly unfinished npm timer reify:retireShallow 1765455936535
105 verbose cwd /home/toast
106 verbose os Linux 6.17.9-arch1-1
107 verbose node v25.2.1
108 verbose npm  v11.6.4
109 verbose exit -39
110 verbose code -39
111 error A complete log of this run can be found in: /home/toast/.npm/_logs/2025-12-11T12_25_34_236Z-debug-0.log
